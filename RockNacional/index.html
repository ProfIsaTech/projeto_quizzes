<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - O que você sabe sobre Rock Nacional?</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="quiz">
        <h2>QUIZ - O que você sabe sobre Rock Nacional?</h2>

        <form id="quizForm">

            <div class="question">
                <p>1. "A sua maneira" do Capital Inicial é uma versão de uma música argentina de qual banda?</p>
                <label><input type="radio" name="q1" value="a"> Los redondos</label>
                <label><input type="radio" name="q1" value="b"> Soda Stereo</label>
                <label><input type="radio" name="q1" value="c"> Charlie Garcia</label>
            </div>

            <div class="question">
                <p>2. O Rappa é uma banda que surgiu em 1993. Qual desses títulos pertencem ao seu repertório? </p>
                <label><input type="radio" name="q2" value="a"> "O que sobrou do céu"</label>                
                <label><input type="radio" name="q2" value="b"> "Um minuto para o fim do mundo"</label>
                <label><input type="radio" name="q2" value="c"> "Maracatu Atômico"</label>
            </div>

            <div class="question">
                <p>3. Maracatu Atômico é um clássico da banda Nação Zumbi, mas a composição é de um mestre da MPB. Quem é ele?</p>
                <label><input type="radio" name="q3" value="a"> Guilherme Arantes</label>
                <label><input type="radio" name="q3" value="b"> Caetano Veloso</label>
                <label><input type="radio" name="q3" value="c"> Gilberto Gil</label>
            </div>

            <div class="question">
                <p>4. Quantos discos a banda Titãs vendeu ao longo da carreira?</p>
                <label><input type="radio" name="q4" value="a"> 6 milhões</label>
                <label><input type="radio" name="q4" value="b"> 11 milhões</label>
                <label><input type="radio" name="q4" value="c"> 3 milhões</label>
            </div>

            <div class="question">
                <p>5. Qual o nome da cantora Pitty?</p>
                <label><input type="radio" name="q5" value="a"> Luisa Sonza</label>
                <label><input type="radio" name="q5" value="b"> Leticia Carvalho</label>
                <label><input type="radio" name="q5" value="c"> Priscilla Novaes Leone</label>
            </div>

            <button type="button" onclick="verificarRespostas()">Enviar</button>

        </form>

        
    </div>

    <!--DIV QUE VAI MOSTRAR O RESULTADO NA TELA-->
    <!--ELA COMEÇA COM DISPLAY NONE E SÓ QUANDO O USUÁRIO FINALIZA O QUIZ ELA APARECE-->
    <div id="dv_resultado" class="dv_resultado" style="display: none;">
        <img id="imagem_resultado" width="300" height="300">
        <p id="resultado"></p>
        <button style="width: 60%;" onclick="recarregarPagina()">Tentar de Novo</button>
    </div>

</body>
</html>
<script>

    function recarregarPagina(){
        //Recarrega a página
        window.location.reload();
        
        //Envia o scroll para o topo da página novamente
        window.scrollTo(0, 0);
    }

    function verificarRespostas() {

        //Criando um objeto. Um objeto é uma estrutura que armazena pares de chave-valor;
        // q1 : chave
        // 'a': valor

        //exemplo: para a chave q3 nós temos o valor 'a'
        let respostasCorretas = {
            q1: 'b',
            q2: 'a',
            q3: 'c',
            q4: 'a',
            q5: 'c'
        };

        //criamos uma variável para armazenar a pontuação do usuário
        let pontuacao = 0;
 
        //obtemos o formulário para ver as respostas
        let formulario = document.getElementById('quizForm');


        //iteramos sobre a lista de respostas corretas e verificamos cada uma das questões
        for (let pergunta in respostasCorretas) {

            //armazena a resposta que o usuário deu para essa questão do loop
            let respostaSelecionada = formulario[pergunta].value;

            //se a resposta do usuário estiver correta com nosso objeto 'respostasCorretas', ele ganha um ponto
            if (respostaSelecionada == respostasCorretas[pergunta]) {
                
                //aumentando a pontuação em +1
                pontuacao++;
            }
        }

        //Mudando o texto que vai aparecer na tela resultado para exibir a quantidade de pontos que o usuário fez
        document.getElementById('resultado').innerText = 'Você acertou ' + pontuacao + ' de 5 perguntas!';


        //VERIFICANDO PARA MOSTRAR UM GIF DIFERENTE PARA CADA QUANTIDADE DE ACERTOS
        if(pontuacao == 0){
            //pontuacao == 0 (errou tudo)

            //mudo a imagem para um gif correspondente
            document.getElementById("imagem_resultado").src = "https://www.bing.com/th/id/OGC.60d2274ac32e6fbb8a939efe8cdb5b06?o=7&pid=1.7&rm=3&rurl=https%3a%2f%2fmedia.giphy.com%2fmedia%2fxuiVZYIpWX0OY%2fgiphy.gif&ehk=XyxCrcL5gHYE4rBt72BH0nFCWJoqeicvXWqwSYww9I0%3d";
            document.getElementById("dv_resultado").style.display = "flex"; //exibo a tela de resultado
        }
        else if(pontuacao == 1 || pontuacao == 2){
            //acertou 1 ou 2       
            document.getElementById("imagem_resultado").src = "https://www.bing.com/th/id/OGC.c518f2172100c856bbcbe9af4960de23?o=7&pid=1.7&rm=3&rurl=https%3a%2f%2fc.tenor.com%2ffvPFzwJXZuAAAAAM%2fpitty-cantora-pitty.gif&ehk=H1r2Zvva03o3jFha4Qm3UCOZFM4dulds%2b8KX4cSxqEo%3d";
            document.getElementById("dv_resultado").style.display = "flex";
        }
        else if(pontuacao == 3 || pontuacao == 4){
            //acertou 3 ou 4           
            document.getElementById("imagem_resultado").src = "https://www.bing.com/th/id/OGC.7fef8ef3978e0b19f3df3a544aa10fbb?o=7&pid=1.7&rm=3&rurl=https%3a%2f%2fmedia.giphy.com%2fmedia%2f26ghbWoXv3G6ypo8o%2fgiphy.gif&ehk=Syt9yh5XSd97Cv8oBr%2bg8wWGQl2wkWzk6crZgKatW3Y%3d";
            document.getElementById("dv_resultado").style.display = "flex";            
        }
        else{
            //pontuacao == 5 (acertou tudo)
            document.getElementById("imagem_resultado").src = "https://www.bing.com/th/id/OGC.b27caeef07be62cef68461e6bd47df54?o=7&pid=1.7&rm=3&rurl=https%3a%2f%2fmedia1.giphy.com%2fmedia%2fdM2xuxnJCg4H6%2fgiphy.gif&ehk=sKOoIlUoOVRNiLm6FFzvEkdXG9ykKRNfKETe2XDIcC0%3d";
            document.getElementById("dv_resultado").style.display = "flex";
        }
       
    }

</script>

